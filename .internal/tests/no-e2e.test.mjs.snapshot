exports[`no-e2e > should put files 1`] = `
[
  "internal-tests-output-no-e2e/.editorconfig",
  "internal-tests-output-no-e2e/.env",
  "internal-tests-output-no-e2e/.env.sample",
  "internal-tests-output-no-e2e/.env.test",
  "internal-tests-output-no-e2e/.git/HEAD",
  "internal-tests-output-no-e2e/.git/config",
  "internal-tests-output-no-e2e/.git/description",
  "internal-tests-output-no-e2e/.git/hooks/applypatch-msg.sample",
  "internal-tests-output-no-e2e/.git/hooks/commit-msg.sample",
  "internal-tests-output-no-e2e/.git/hooks/fsmonitor-watchman.sample",
  "internal-tests-output-no-e2e/.git/hooks/post-update.sample",
  "internal-tests-output-no-e2e/.git/hooks/pre-applypatch.sample",
  "internal-tests-output-no-e2e/.git/hooks/pre-commit.sample",
  "internal-tests-output-no-e2e/.git/hooks/pre-merge-commit.sample",
  "internal-tests-output-no-e2e/.git/hooks/pre-push.sample",
  "internal-tests-output-no-e2e/.git/hooks/pre-rebase.sample",
  "internal-tests-output-no-e2e/.git/hooks/pre-receive.sample",
  "internal-tests-output-no-e2e/.git/hooks/prepare-commit-msg.sample",
  "internal-tests-output-no-e2e/.git/hooks/push-to-checkout.sample",
  "internal-tests-output-no-e2e/.git/hooks/update.sample",
  "internal-tests-output-no-e2e/.git/info/exclude",
  "internal-tests-output-no-e2e/.github/actions/setup-db/action.yml",
  "internal-tests-output-no-e2e/.github/actions/setup-node/action.yml",
  "internal-tests-output-no-e2e/.github/copilot-instructions.md",
  "internal-tests-output-no-e2e/.github/workflows/ci.yml",
  "internal-tests-output-no-e2e/.github/workflows/migration.yml",
  "internal-tests-output-no-e2e/.gitignore",
  "internal-tests-output-no-e2e/.internal/.gitignore",
  "internal-tests-output-no-e2e/.internal/README.md",
  "internal-tests-output-no-e2e/.internal/create-app-foundation/README.md",
  "internal-tests-output-no-e2e/.internal/create-app-foundation/package.json",
  "internal-tests-output-no-e2e/.internal/create-app-foundation/pnpm-lock.yaml",
  "internal-tests-output-no-e2e/.internal/create-app-foundation/src/git.mjs",
  "internal-tests-output-no-e2e/.internal/create-app-foundation/src/index.mjs",
  "internal-tests-output-no-e2e/.internal/setup/code/app-(public)-page.tsx",
  "internal-tests-output-no-e2e/.internal/setup/code/app-layout.tsx",
  "internal-tests-output-no-e2e/.internal/setup/common-processing.mjs",
  "internal-tests-output-no-e2e/.internal/setup/db.mjs",
  "internal-tests-output-no-e2e/.internal/setup/format.mjs",
  "internal-tests-output-no-e2e/.internal/setup/init.mjs",
  "internal-tests-output-no-e2e/.internal/setup/package-json.mjs",
  "internal-tests-output-no-e2e/.internal/setup/questions/docker.mjs",
  "internal-tests-output-no-e2e/.internal/setup/questions/e2e.mjs",
  "internal-tests-output-no-e2e/.internal/setup/questions/index.mjs",
  "internal-tests-output-no-e2e/.internal/setup/questions/otel.mjs",
  "internal-tests-output-no-e2e/.internal/setup/questions/sample-code.mjs",
  "internal-tests-output-no-e2e/.internal/setup/utils.mjs",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/cache/deps/@theme_index.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/cache/deps/@theme_index.js.map",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/cache/deps/_metadata.json",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/cache/deps/chunk-5OYVI2TY.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/cache/deps/chunk-5OYVI2TY.js.map",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/cache/deps/chunk-CQOUZRMK.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/cache/deps/chunk-CQOUZRMK.js.map",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/cache/deps/package.json",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/cache/deps/vitepress___@vue_devtools-api.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/cache/deps/vitepress___@vue_devtools-api.js.map",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/cache/deps/vitepress___@vueuse_core.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/cache/deps/vitepress___@vueuse_core.js.map",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/cache/deps/vue.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/cache/deps/vue.js.map",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/config.mts",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/404.html",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/app.BZlZU4Qp.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/chunks/docker.BG773L8L.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/chunks/framework.P9qPzDnn.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/chunks/next-auth.D8dyw42M.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/chunks/nextjs.YXzZzXcq.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/chunks/otel.29JQ0aHQ.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/chunks/playwright.DZ_xk9Uj.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/chunks/prisma.Dxle-em_.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/chunks/testcontainers.d5EdFJdZ.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/chunks/testing-library.DfqiJu8-.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/chunks/theme.CrUO_k8X.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/chunks/zod.C12Pnpn6.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_ai.md.BR-31GLn.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_ai.md.BR-31GLn.lean.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_e2e-testing.md.Bcax1-96.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_e2e-testing.md.Bcax1-96.lean.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_git.md.GwdcPz1e.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_git.md.GwdcPz1e.lean.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_next-auth.md.D91BAtqh.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_next-auth.md.D91BAtqh.lean.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_nextjs.md.CiFF1U6n.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_nextjs.md.CiFF1U6n.lean.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_observability.md.cufO1RzN.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_observability.md.cufO1RzN.lean.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_prisma.md.C-Sen9Hx.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_prisma.md.C-Sen9Hx.lean.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_unit-testing.md.DwtZAEZ7.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/features_unit-testing.md.DwtZAEZ7.lean.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/index.md.Cner43_D.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/index.md.Cner43_D.lean.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/inter-italic-cyrillic-ext.r48I6akx.woff2",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/inter-italic-cyrillic.By2_1cv3.woff2",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/inter-italic-greek-ext.1u6EdAuj.woff2",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/inter-italic-greek.DJ8dCoTZ.woff2",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/inter-italic-latin-ext.CN1xVJS-.woff2",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/inter-italic-latin.C2AdPX0b.woff2",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/inter-italic-vietnamese.BSbpV94h.woff2",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/inter-roman-cyrillic-ext.BBPuwvHQ.woff2",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/inter-roman-cyrillic.C5lxZ8CY.woff2",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/inter-roman-greek-ext.CqjqNYQ-.woff2",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/inter-roman-greek.BBVDIX6e.woff2",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/inter-roman-latin-ext.4ZJIpNVo.woff2",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/inter-roman-latin.Di8DUHzh.woff2",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/inter-roman-vietnamese.BjW4sHH5.woff2",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/introduction_challenges-solved.md.DlRNsA2b.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/introduction_challenges-solved.md.DlRNsA2b.lean.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/introduction_getting-started.md.DpjxUv2p.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/introduction_getting-started.md.DpjxUv2p.lean.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/introduction_what-is-web-app-template.md.Cz6dJhNz.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/introduction_what-is-web-app-template.md.Cz6dJhNz.lean.js",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/assets/style.CLB91A0I.css",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/features/ai.html",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/features/e2e-testing.html",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/features/git.html",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/features/next-auth.html",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/features/nextjs.html",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/features/observability.html",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/features/prisma.html",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/features/unit-testing.html",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/hashmap.json",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/icon.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/biome.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/docker.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/github-actions.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/images.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/lint-staged.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/next-auth.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/nextjs.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/otel.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/playwright.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/pnpm.svg",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/prettier.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/prisma.svg",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/react-hook-form.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/renovate.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/tailwind.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/testcontainers.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/testing-library.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/typescript.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/vitest.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/vscode.png",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/images/libs/zod.svg",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/index.html",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/introduction/challenges-solved.html",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/introduction/getting-started.html",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/introduction/what-is-web-app-template.html",
  "internal-tests-output-no-e2e/.internal/site/.vitepress/dist/vp-icons.css",
  "internal-tests-output-no-e2e/.internal/site/package.json",
  "internal-tests-output-no-e2e/.internal/site/pnpm-lock.yaml",
  "internal-tests-output-no-e2e/.internal/site/src/features/code-quality-automation.md",
  "internal-tests-output-no-e2e/.internal/site/src/features/copilot.md",
  "internal-tests-output-no-e2e/.internal/site/src/features/e2e-testing.md",
  "internal-tests-output-no-e2e/.internal/site/src/features/next-auth.md",
  "internal-tests-output-no-e2e/.internal/site/src/features/nextjs.md",
  "internal-tests-output-no-e2e/.internal/site/src/features/observability.md",
  "internal-tests-output-no-e2e/.internal/site/src/features/prisma.md",
  "internal-tests-output-no-e2e/.internal/site/src/features/unit-testing.md",
  "internal-tests-output-no-e2e/.internal/site/src/index.md",
  "internal-tests-output-no-e2e/.internal/site/src/introduction/challenges-solved.md",
  "internal-tests-output-no-e2e/.internal/site/src/introduction/dotenv.md",
  "internal-tests-output-no-e2e/.internal/site/src/introduction/getting-started.md",
  "internal-tests-output-no-e2e/.internal/site/src/introduction/routing.md",
  "internal-tests-output-no-e2e/.internal/site/src/introduction/tasks.md",
  "internal-tests-output-no-e2e/.internal/site/src/introduction/what-is-web-app-template.md",
  "internal-tests-output-no-e2e/.internal/site/src/public/favicon.ico",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/icon.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/biome.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/copilot.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/docker.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/editorconfig.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/github-actions.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/knip.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/lefthook.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/next-auth.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/nextjs.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/otel.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/playwright.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/pnpm.svg",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/postgresql.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/prettier.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/prisma.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/react-hook-form.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/renovate.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/tailwind.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/testcontainers.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/testing-library.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/typescript.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/vitest.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/vscode.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/libs/zod.svg",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/otel/query.png",
  "internal-tests-output-no-e2e/.internal/site/src/public/images/otel/root-metric.png",
  "internal-tests-output-no-e2e/.internal/tests/Basetest.mjs",
  "internal-tests-output-no-e2e/.internal/tests/all-opt-out.test.mjs",
  "internal-tests-output-no-e2e/.internal/tests/common.test.mjs",
  "internal-tests-output-no-e2e/.internal/tests/common.test.mjs.snapshot",
  "internal-tests-output-no-e2e/.internal/tests/makefile",
  "internal-tests-output-no-e2e/.internal/tests/no-docker.test.mjs",
  "internal-tests-output-no-e2e/.internal/tests/no-docker.test.mjs.snapshot",
  "internal-tests-output-no-e2e/.internal/tests/no-e2e.test.mjs",
  "internal-tests-output-no-e2e/.internal/tests/no-e2e.test.mjs.snapshot",
  "internal-tests-output-no-e2e/.internal/tests/no-otel.test.mjs",
  "internal-tests-output-no-e2e/.internal/tests/no-otel.test.mjs.snapshot",
  "internal-tests-output-no-e2e/.internal/tests/no-sample-code.test.mjs",
  "internal-tests-output-no-e2e/.internal/tests/no-sample-code.test.mjs.snapshot",
  "internal-tests-output-no-e2e/.node-version",
  "internal-tests-output-no-e2e/.npmrc",
  "internal-tests-output-no-e2e/.vscode/extensions.json",
  "internal-tests-output-no-e2e/.vscode/settings.json",
  "internal-tests-output-no-e2e/Dockerfile",
  "internal-tests-output-no-e2e/README.md",
  "internal-tests-output-no-e2e/biome.json",
  "internal-tests-output-no-e2e/compose.yml",
  "internal-tests-output-no-e2e/env.ts",
  "internal-tests-output-no-e2e/knip.config.ts",
  "internal-tests-output-no-e2e/lefthook.yml",
  "internal-tests-output-no-e2e/next.config.ts",
  "internal-tests-output-no-e2e/otel-collector-config.yml",
  "internal-tests-output-no-e2e/package.json",
  "internal-tests-output-no-e2e/playwright.config.ts",
  "internal-tests-output-no-e2e/pnpm-lock.yaml",
  "internal-tests-output-no-e2e/postcss.config.mjs",
  "internal-tests-output-no-e2e/prisma/ERD.md",
  "internal-tests-output-no-e2e/prisma/schema.prisma",
  "internal-tests-output-no-e2e/public/.gitkeep",
  "internal-tests-output-no-e2e/renovate.json",
  "internal-tests-output-no-e2e/tests/db.setup.ts",
  "internal-tests-output-no-e2e/tests/vitest.setup.ts",
  "internal-tests-output-no-e2e/tsconfig.json",
  "internal-tests-output-no-e2e/vitest.config.ts"
]
`;

exports[`no-e2e > should update .github/workflows/ci.yml 1`] = `
[
  "name: ci",
  "",
  "on:",
  "  pull_request:",
  "    branches:",
  "      - main",
  "    paths:",
  "      - package.json",
  "      - src/**",
  "      - e2e/**",
  "      - .github/workflows/ci.yml",
  "      - Dockerfile",
  "  push:",
  "    branches:",
  "      - main",
  "    paths:",
  "      - package.json",
  "      - src/**",
  "      - e2e/**",
  "      - .github/workflows/ci.yml",
  "      - Dockerfile",
  "",
  "jobs:",
  "  lint:",
  "    runs-on: ubuntu-latest",
  "    steps:",
  "      - uses: actions/checkout@v4",
  "      - uses: ./.github/actions/setup-node",
  "      - run: pnpm lint",
  "      - run: npx biome check . && npx prettier --check './**/*.{md,yml}'",
  "  build:",
  "    runs-on: ubuntu-latest",
  "    steps:",
  "      - uses: actions/checkout@v4",
  "      - uses: ./.github/actions/setup-node",
  "      - uses: ./.github/actions/setup-db",
  "      - run: pnpm build",
  "  # start: docker #",
  "  build-docker:",
  "    runs-on: ubuntu-latest",
  "    env:",
  "      # should store them to github.secrets",
  "      DATABASE_URL: postgresql://test:1234@172.17.0.1:5432/dev?schema=public",
  "      NEXTAUTH_SECRET: UfxvOS6HetHOFkL44YTITYgc0DOuOlz5TBp3jkbnZ3w=",
  "      NEXT_PUBLIC_SITE_URL: http://localhost:3000",
  "    steps:",
  "      - uses: actions/checkout@v4",
  "      - uses: ./.github/actions/setup-node",
  "      - uses: ./.github/actions/setup-db",
  "      - run: |",
  "          docker build \\\\",
  "            -t app \\\\",
  "            -f Dockerfile \\\\",
  "            --build-arg DATABASE_URL=\${{env.DATABASE_URL}} \\\\",
  "            --build-arg NEXTAUTH_SECRET=\${{env.NEXTAUTH_SECRET}} \\\\",
  "            --build-arg NEXT_PUBLIC_SITE_URL=\${{env.NEXT_PUBLIC_SITE_URL}} \\\\",
  "            .",
  "      - run: docker run -d -p 3000:3000 app",
  "      - run: |",
  "          until $(curl --output /dev/null --silent --fail \${{env.NEXT_PUBLIC_SITE_URL}}); do",
  "            printf '!'",
  "            sleep 1",
  "          done",
  "        timeout-minutes: 1",
  "  # end: docker #",
  "  unit-test:",
  "    runs-on: ubuntu-latest",
  "    steps:",
  "      - uses: actions/checkout@v4",
  "      - uses: ./.github/actions/setup-node",
  "      - uses: ./.github/actions/setup-db",
  "        with:",
  "          run_db: false",
  "      - run: pnpm test",
  "  # start: e2e #",
  "  e2e-test:",
  "    runs-on: ubuntu-latest",
  "    env:",
  "      NEXTAUTH_SECRET: UfxvOS6HetHOFkL44YTITYgc0DOuOlz5TBp3jkbnZ3w=",
  "    steps:",
  "      - uses: actions/checkout@v4",
  "      - uses: ./.github/actions/setup-node",
  "      - uses: ./.github/actions/setup-db",
  "        with:",
  "          run_db: false",
  "      - run: pnpm exec playwright install chromium",
  "      - run: pnpm build:test",
  "      - run: pnpm test:e2e",
  "  # end: e2e #",
  ""
]
`;

exports[`no-e2e > should update .gitignore 1`] = `
[
  ".githooks",
  "",
  "node_modules",
  "coverage",
  "",
  "/.next/",
  "",
  "# start: e2e #",
  ".auth",
  "playwright-report",
  "test-results",
  "# end: e2e #",
  "",
  ".DS_Store",
  "*.pem",
  "",
  ".env",
  "",
  ".vercel",
  "",
  "*.tsbuildinfo",
  "next-env.d.ts",
  "",
  ""
]
`;

exports[`no-e2e > should update README.md 1`] = `
[
  "",
  "## Setup",
  "",
  "\`\`\`sh",
  "# enable corepack",
  "$ npm run setup",
  "# install deps",
  "$ pnpm i",
  "# create \\".env\\" and modifying environment variables",
  "$ cp .env.sample .env",
  "\`\`\`",
  "",
  "## Development",
  "",
  "\`\`\`sh",
  "$ pnpm dev",
  "\`\`\`",
  "",
  "## Production",
  "",
  "\`\`\`sh",
  "$ pnpm db:up",
  "$ pnpm build",
  "$ pnpm start",
  "\`\`\`",
  "",
  "<!-- start: otel -->",
  "",
  "### Observability",
  "",
  "This template uses Jaeger as a tracing platform. The local environment doesn't require \`TRACE_EXPORTER_URL\` environment value.",
  "",
  "\`\`\`sh",
  "# open Jaeger",
  "$ open http://localhost:16686/",
  "\`\`\`",
  "",
  "<!-- end: otel -->",
  "",
  "## Test",
  "",
  "### Unit Test",
  "",
  "\`\`\`sh",
  "$ pnpm test",
  "$ pnpm test:watch",
  "\`\`\`",
  "",
  "<!-- start: e2e -->",
  "",
  "### E2E Test",
  "",
  "A build task must be executed before running tests to bypass JWT logic.",
  "",
  "\`\`\`sh",
  "# install chrome",
  "$ pnpm exec playwright install chrome",
  "# build using test environments since it needs to change encode/decode functions of next-auth",
  "$ pnpm build:test",
  "",
  "$ pnpm test:e2e",
  "$ pnpm test:e2e:ui",
  "\`\`\`",
  "",
  "<!-- end: e2e -->",
  "",
  "## Database",
  "",
  "\`\`\`sh",
  "$ pnpm db:migrate",
  "$ pnpm db:reset",
  "# view the database items",
  "$ pnpm db:studio",
  "\`\`\`",
  "",
  "## Links",
  "",
  "- [Database ER diagram](/prisma/ERD.md)",
  "- [Web App Template](https://hiroppy.github.io/web-app-template/)",
  ""
]
`;

exports[`no-e2e > should update dependencies 1`] = `
{
  "dependencies": [
    "@auth/prisma-adapter",
    "@hookform/resolvers",
    "@opentelemetry/exporter-metrics-otlp-grpc",
    "@opentelemetry/exporter-trace-otlp-grpc",
    "@opentelemetry/instrumentation-http",
    "@opentelemetry/resources",
    "@opentelemetry/sdk-metrics",
    "@opentelemetry/sdk-node",
    "@opentelemetry/sdk-trace-base",
    "@opentelemetry/semantic-conventions",
    "@prisma/client",
    "@prisma/instrumentation",
    "clsx",
    "next",
    "next-auth",
    "react",
    "react-dom",
    "react-hook-form",
    "zod"
  ],
  "devDependencies": [
    "@biomejs/biome",
    "@next/env",
    "@playwright/test",
    "@tailwindcss/postcss",
    "@testing-library/react",
    "@types/node",
    "@types/react",
    "@types/react-dom",
    "@vitejs/plugin-react",
    "jsdom",
    "knip",
    "lefthook",
    "postcss",
    "prettier",
    "prisma",
    "prisma-erd-generator",
    "tailwindcss",
    "testcontainers",
    "typescript",
    "vitest"
  ]
}
`;

exports[`no-e2e > should update npm scripts 1`] = `
[
  "setup",
  "dev",
  "start",
  "build",
  "build:test",
  "test",
  "test:watch",
  "test:e2e",
  "test:e2e:ui",
  "db:up",
  "db:migrate",
  "db:reset",
  "db:deploy",
  "db:studio",
  "generate:client",
  "lint",
  "fmt"
]
`;
